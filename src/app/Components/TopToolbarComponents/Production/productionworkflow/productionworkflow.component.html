<div class="container">
    <div class="workflow">

        <form action="">
            <h1 style="font-family: 'Times New Roman', Times, serif;color:#396bb5">Work Flow</h1>
            <div class="jobhistory">
                <div class="row">
                    <div class="col">
                        <p class="control-label font-bold">Job Id: &nbsp;{{data.jobId}}</p>
                    </div>
                    <div class="col">
                        <p>Job Date: &nbsp;{{data.jobDate}}</p>
                    </div>
                    <div class="col">
                        <p>Sales Person:&nbsp; {{data.salesPersonName}}</p>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <p>Department:&nbsp;{{data.department}}</p>
                    </div>
                    <div class="col">
                        <p>Estimated Time:&nbsp;{{data.estimatedTime?data.estimatedTime:0 + "Minutes"}}</p>
                    </div>
                    <div class="col">
                        <p>PO#:&nbsp;{{data.poNo}}</p>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <p>Client:&nbsp;&nbsp;{{data.shortName}}</p>
                    </div>
                    <div class="col">
                        <p>Assigned Date & Time :&nbsp;{{data.jobDateEst}}</p>
                    </div>
                    <div class="col">
                        <p>Job Status:&nbsp;{{data.jobStatusDescription}}</p>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <p>Job Desc:&nbsp;{{data.jobDescription}}</p>
                    </div>
                    <div class="col">
                        <p>File Name:&nbsp;{{data.fileName}}</p>
                    </div>
                </div>

                <div class="row">
                    <div class="col-6">
                        <p>Instructions:&nbsp;{{data.instruction}}</p>
                    </div>
                    <div class="col-6">
                        <p>Garment Color: &nbsp;{{data.color}}</p>
                    </div>
                    <div class="row">
                        <div class="col">
                            <a routerLink="/topnavbar/sewout" style="color:#3988b5; float:left">Back</a>
                            <p style="color:#3988b5;float: right;">View Details</p>
                        </div>
                    </div>
                    <div class="buttons">
                        <div class="col" style="display: flex;gap:5px;justify-content: center;">
                            <button class="btn btn-success btn-block" (click)="sample('start')">Start</button>
                            <button class="btn btn-warning btn-block" (click)="sample('Break')">Break</button>
                            <button class="btn btn-primary btn-block" (click)="sample('Training/Meeting')">Training/Meeting</button>
                            <button class="btn btn-warning btn-block" (click)="sample('Hold')">Hold</button>
                            <button class="btn btn-danger btn-block" (click)="sample('Others')" id="others">Others</button>
                            
                        </div>
                    </div>
                </div>
            </div>
            <br>
            <div class="downloadbuttons">
                <div class="row">
                    <div class="col">
                        <p>Work File Folder:
                            <button type="button" class="btn btn-primary">WorkFiles</button>&nbsp; <button type="button"
                                class="btn btn-primary">Zip</button>
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <p>Input File Folder:&nbsp;&nbsp;
                            <button type="button" class="btn btn-primary">WorkFiles</button>&nbsp; <button type="button"
                                class="btn btn-primary">Zip</button>
                        </p>
                    </div>
                </div>
            </div>
            <div class="jobtable">
                <div class="row">
                    <div class="col-6">
                        <mat-table [dataSource]="dataSource" matSort>
                            <ng-container matColumnDef="startDate">
                                <mat-header-cell *matHeaderCellDef mat-sort-header>Start Date & Time</mat-header-cell>
                                <mat-cell *matCellDef="let job">{{ job.startDate }}</mat-cell>
                            </ng-container>

                            <ng-container matColumnDef="endDate">
                                <mat-header-cell *matHeaderCellDef mat-sort-header>End Date & Time</mat-header-cell>
                                <mat-cell *matCellDef="let job">{{ job.endDate }}</mat-cell>
                            </ng-container>

                            <ng-container matColumnDef="timeTaken">
                                <mat-header-cell *matHeaderCellDef mat-sort-header> Time Taken in
                                    Minutes</mat-header-cell>
                                <mat-cell *matCellDef="let job">{{ job.totalTimeTaken }}</mat-cell>
                            </ng-container>

                            <ng-container matColumnDef="status">
                                <mat-header-cell *matHeaderCellDef mat-sort-header>Status</mat-header-cell>
                                <mat-cell *matCellDef="let job">{{ job.status }}</mat-cell>
                            </ng-container>

                            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                            <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
                        </mat-table>
                        <mat-paginator [pageSizeOptions]="[10, 25, 50, 100]" showFirstLastButtons></mat-paginator>
                    </div>
                    <div class="col-4">

                        <table>
                            <tr>
                                <th>Total Time Worked</th>
                                <td>{{ totalWorked }}</td>
                            </tr>
                            <tr>
                                <th>Break</th>
                                <td>{{ breakTime }}</td>
                            </tr>
                            <tr>
                                <th>Training/Meeting</th>
                                <td>{{ trainingMeeting }}</td>
                            </tr>
                            <tr>
                                <th>Hold</th>
                                <td>
                                <td>{{ holdTime }}</td>
                            </tr>
                            <tr>
                                <th>Others</th>
                                <td>
                                <td>{{ othersTime }}</td>
                            </tr>
                            <tr>
                                <th>Total Time Taken</th>
                                <td>
                                <td>{{ totalTime }}</td>
                            </tr>
                        </table>
                    </div>
                </div>

            </div>
            <br>
            <div class="dropdowns">
                <!--!st row in dropdown-->
                <!-- <div class="row">
                    <div class="col">
                        <mat-form-field>
                            <mat-label>Process Status</mat-label>
                            <mat-select>
                                <mat-option value="selected">Selected</mat-option>
                                <mat-option value="completed">Completed</mat-option>
                                <mat-option value="query">Query</mat-option>
                                <mat-option value="query-special-pricing">Query for Special Pricing</mat-option>
                                <mat-option value="work-incomplete">Work Incomplete</mat-option>
                                <mat-option value="error">Error</mat-option>
                                <mat-option value="completed-error">Completed with Error</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="col">
                        <div class="checkbox">
                            <mat-label>Copy Files</mat-label>
                            <mat-checkbox [(ngModel)]="copyPreviousTrayFiles" name="copyPreviousTrayFiles">
                                copy Previous Tray Files
                            </mat-checkbox>
                        </div>
                    </div>
                </div> -->
                <!--2ND ROW-->
                <!-- <div class="row">
                    <div class="col">
                        <div class="completedtextarea">
                            <mat-form-field class="example-full-width">
                                <textarea matInput placeholder="Remarks"></textarea>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="col">
                        <div class="completeduploadfile">
                            <input type="file" (change)="onFileSelected($event)" />
                        </div>
                    </div>
                </div> -->
                <!--3rd row-->
                <!-- <div class="row">
                    <div class="col">
                        <div class="comremark">

                            <mat-form-field class="example-full-width">
                                <textarea matInput placeholder="Leave a remark"></textarea>
                            </mat-form-field>
                        </div>

                    </div>
                    <div class="col">
                        <div class="combtn">
                            <mat-label>Previous Tray Files</mat-label>
                            <button class="btn btn-primary">Files</button>
                        </div>
                    </div>
                </div> -->
                <!--4th row-->
                <!-- <div class="row">
                    <div class="col">
                        <div class="comstitch">
                            <mat-form-field>
                                <mat-label>Stitch Count</mat-label>
                                <input matInput type="number" [(ngModel)]="stitchCount" name="stitchCount" />
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="col">
                        <div class="combtn">
                            <button class="btn btn-danger">End</button>
                        </div>
                    </div>
                </div> -->
                <!--5th row-->
                <br>

                <div class="row">
                    <div class="col">
                        <mat-form-field appearance="fill">
                            <mat-label>Process Status</mat-label>
                            <mat-select [(ngModel)]="selectedStatus" name="status" (selectionChange)="onScopeChange()">
                                <mat-option *ngFor="let status of processStatuses" [value]="status">{{ status }}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="col" *ngIf="showCopyFilesCheckbox">
                        <mat-label>Copy Files</mat-label>
                        <mat-checkbox [(ngModel)]="copyFiles" [disabled]="disableCopyFiles" checked><span>Copy Previous Tray Files</span></mat-checkbox>                        
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        <mat-form-field>
                            <textarea matInput placeholder="Remarks" [(ngModel)]="remarks" name="remarks"></textarea>
                        </mat-form-field>

                    </div>
                    <div class="col">
                        <input type="file" (change)="onFileSelected($event)" >
                    </div>
                </div>


                <div class="row">
                    <div class="col">
                        <mat-form-field>
                            <mat-label>Scope</mat-label>
                            <mat-select [(value)]="selectedScopeValue">
                                <mat-option *ngFor="let value of scopeApiValues" [value]="value.id">{{value.name}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="col">
                        <button type="button" class="btn btn-danger">End</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

<div id="confirmedPopup" [class.hidden]="!showConfirmedPopup">
    <!-- Your content here -->
    <p>HI</p>
  </div>
  