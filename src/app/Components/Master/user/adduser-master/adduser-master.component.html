<div class="container">
	<div class="mt-3">
		<div class="card">
			<div class="card-body bg-primary">
				<h3 class="text-center text-white">User Info</h3>
				<div class="card-body bg-white">
					<form [formGroup]="userRegistrationForm" (ngSubmit)="onFormSubmit()">
						<div class="row">
							<div class="col-md-2 align-items-center">
								<label for="sel1" class="col-form-label">Access to<span class="text-danger">*</span></label>
							</div>
							<div class="col-md-4 input-group-sm mb-3">
								<mat-form-field>
									<mat-label>Select Role</mat-label>
									<mat-select formControlName="chooseRole">
										<!-- <mat-option value="Choose Access">--Choose Access--</mat-option> -->
										<mat-option (click)="showEmployeeData()" value="employee">Employee</mat-option>
										<!-- <mat-option (click)="showCustomerData()" value="customer">Customer</mat-option> -->
									</mat-select>
								</mat-form-field>
							</div>
							<div class="col-md-2" *ngIf="isEmployee">
								<label for="sel1" class="col-form-label">Employee <span class="text-danger">*</span></label>
							</div>
							<div class="col-md-4" *ngIf="isEmployee">
								<mat-form-field>
									<mat-label>Select Employee</mat-label>
									<mat-select formControlName="employeeName" [(ngModel)]="selectedEmployee"
										(selectionChange)="getEmployeeId(selectedEmployee)">
										<mat-option *ngFor="let employee of employees" [value]="employee.employeeId">
											{{ employee.employeeName }}
										</mat-option>
									</mat-select>
								</mat-form-field>
							</div>
							<div class="col-md-2" *ngIf="isEmployee">
								<label for="sel1" class="col-form-label">User Name <span class="text-danger">*</span></label>
							</div>
							<div class="col-md-4 cursor" *ngIf="isEmployee">
								<mat-form-field appearance="fill">
									<input class="cursor" matInput  ngDefaultControl formControlName="employeeUsers">
								</mat-form-field>
							</div>
							<div class="col-md-2" *ngIf="isEmployee">
								<label for="staticEmail" class="col-form-label" ngDefaultControl>Password<span class="text-danger">*</span></label>
							</div>
							<div class="col-md-4" *ngIf="isEmployee">
								<mat-form-field appearance="fill" >
									<mat-label>Enter Password</mat-label>
									<input matInput  placeholder="Enter password" formControlName="employeePassword">
								</mat-form-field>
							</div>
							<div class="col-md-2" *ngIf="isEmployee">
								<label for="sel1" class=" col-form-label">Role<span class="text-danger">*</span></label>
							</div>
							<div class="col-md-4" *ngIf="isEmployee">
								<mat-form-field>
									<mat-label>Select Role</mat-label>
									<mat-select formControlName="adminRole">
										<mat-option (click)="showAdminData()" value="Admin">Admin</mat-option>
										<mat-option (click)="showUserData()" value="User">User</mat-option>
									</mat-select>
								</mat-form-field>
								<div *ngIf="isAdmin">
								</div>
								<div *ngIf="isUser">
									<div>									  
										<div *ngFor="let menu of menus" [ngStyle]="getSubMenuPadding(menu.parentId, 0)">
											<div *ngIf="menu.hasSubMenu">
												<mat-label>{{menu.name}}</mat-label>
											</div>
											<div *ngIf="!menu.hasSubMenu">
												<mat-checkbox formControlName="accessName" [checked]="selectedMenu.indexOf(menu.id) > -1"
													(change)="onMenuSelection($event, menu.id)">
													{{menu.name}}
												</mat-checkbox>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="col-md-2" *ngIf="isCustomer">
								<label for="sel1" class="col-form-label">Employee <span class="text-danger">*</span></label>
							</div>
							<div class="col-md-4" *ngIf="isCustomer">
								<mat-form-field>
									<mat-label>Select Employee</mat-label>
									<mat-select formControlName="customer" [(ngModel)]="selectedCustomerName">
										<mat-option value="customerEmployee">-- Choose Customer --</mat-option>
										<mat-option *ngFor="let customer  of customers" [value]="customer.name">
											{{ customer.name }}
										</mat-option>
									</mat-select>
								</mat-form-field>
							</div>
							<div class="col-md-2" *ngIf="isCustomer">
								<label for="sel1" class="col-form-label">Employee <span class="text-danger">*</span></label>
							</div>
							<div class="col-md-4" *ngIf="isCustomer">
								<mat-form-field>
									<mat-label>-- Choose Email Id--</mat-label>
									<mat-select formControlName="employeeEmail">
										<mat-option value="emplEmail">-- Choose Email Id--</mat-option>
									</mat-select>
								</mat-form-field>
							</div>
							<div class="col-md-2" *ngIf="isCustomer">
								<label for="staticEmail" class="col-form-label">Password<span class="text-danger">*</span></label>
							</div>
							<div class="col-md-4" *ngIf="isCustomer">
								<mat-form-field>
									<input matInput placeholder="Enter password" formControlName="customerPassword"
										[type]="hide ? 'password' : 'text'">
								</mat-form-field>
							</div>
						</div>
						<div class="col-12 mt-5">
							<button class="float-left" mat-raised-button color="primary" (click)="onCancel()">Cancel</button>
							<button type="submit" class="btn btn-success float-end">Submit</button>
						</div>
					</form>
				</div>
			</div>
			<div class="mb-3"></div>
		</div>
	</div>
</div>